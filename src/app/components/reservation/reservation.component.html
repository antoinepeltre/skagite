<div id="reservation-panel" class="w-full mx-auto p-4 rounded-lg shadow-lg bg-white ml-">
    <h2 class="text-2xl font-bold mb-4 text-center">Réservez votre chambre</h2>

    <!-- Formulaire de réservation -->
    <form [formGroup]="reservationForm" (ngSubmit)="onSubmit()">

        <!-- Choix de la chambre -->
        <div class="mb-4">
            <label for="room" class="block text-sm font-semibold">Choisissez votre chambre</label>
            <select id="room" formControlName="room"
                class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500"
                (change)="onRoomChange($event)">
                <option *ngFor="let room of rooms" [value]="room.id">{{ room.name }}</option>
            </select>
        </div>

        <p-calendar [(ngModel)]="selectedDates" [inline]="true" [disabledDates]="disabledDates" selectionMode="range"
            [disabledDays]="[1]" (onSelect)="onDateChange($event)" styleClass="custom-calendar"
            [ngModelOptions]="{standalone: true}" *ngIf="disabledDates.length > 0">

            <ng-template pTemplate="date" let-date>
                <span [ngClass]="getDateCellClass(date)">{{ date.day }}</span>
            </ng-template>
        </p-calendar>


        <div class="mt-4">
            <label for="startDate" class="block text-sm font-semibold">Date de début</label>
            <input type="text" formControlName="startDate"
                class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 mb-2"
                [value]="startDate" readonly>

            <label for="endDate" class="block text-sm font-semibold">Date de fin</label>
            <input type="text" formControlName="endDate"
                class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500"
                [value]="endDate" readonly>
        </div>

        <!-- Nombre de personnes -->
        <div class="mb-4">
            <label for="people" class="block text-sm font-semibold">Nombre de personnes</label>
            <div class="flex justify-between items-center">
                <input type="number" id="adults" formControlName="adults" min="1" max="2"
                    class="w-1/3 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500" />
                Adultes
                <input type="number" id="children" formControlName="children" min="0" max="1"
                    class="w-1/3 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500" />
                Enfant
            </div>
        </div>

        <!-- Option lit parapluie -->
        <div class="mb-4">
            <label for="crib" class="block text-sm font-semibold">Lit parapluie</label>
            <input type="checkbox" id="crib" formControlName="crib" class="mr-2" /> Ajouter (1000 XPF)
        </div>

        <!-- Affichage du prix -->
        <div class="mb-4">
            <label for="price" class="block text-sm font-semibold">Prix total</label>
            <div class="text-lg font-bold">{{ totalPrice }} XPF</div> <!-- Affichage dynamique du prix -->
        </div>

        <!-- Bouton Réserver -->
        <button type="submit"
            class="w-full p-3 bg-orange-600 text-white rounded-lg shadow-md hover:bg-orange-700 focus:outline-none focus:ring-4 focus:ring-orange-300">
            Réserver
        </button>
    </form>
</div>